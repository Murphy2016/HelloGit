package com.qianmo.version.login;

import java.io.IOException;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

import javax.annotation.Resource;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;

@Controller
@RequestMapping(value="login")
public class VersionLoginController {
	@Resource
	private SysUserDao sysUserDao;
	
	@RequestMapping()
	public String login(HttpServletRequest request,
			HttpServletResponse response,String username,String password){
		SysUser sysUser = null;
		ModelAndView mv=null;
		try {
			sysUser = sysUserDao.findSysUserByName(username, password);
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		if(sysUser == null){
			return "redirect:login.jsp";
			/*try {
				response.sendRedirect("/version/login.jsp");
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}*/
		}else{
			//mv = new ModelAndView("version/versionlist");
			request.getSession().setAttribute("userctx", username);
			return "redirect:three.jsp";
			/*try {
				response.sendRedirect("/version/three.jsp");
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}*/
		}
		//return mv;
	}
	
	public static void main(String[] args){
		String[] a={"000002768","000005521","000006016","000007754","000008285","000009770","000010075","000013045","000003973","000005557","000007177","000007438","000008626","000009850","000009913","000002427","000003093","000005631","000006360","000006379","000007729","000007765","000009349","000013119","000004187","000007418","000001837","000002728","000003042","000003718","000003754","000003817","000004483","000005987","000006067","000008605","000010233","000012312","000002750","000002912","000003281","000003344","000003759","000007557","000007692","000009438","000010076","000012155","000012768","000013442","000002312","000003951","000005887","000010188","000012366","000003341","000003396","000003602","000003990","000004287","000005970","000007400","000009732","000013359","000002500","000003509","000003545","000007893","000007992","000008289","000008630","000012293","000012851","000002471","000002633","000003722","000003777","000004451","000005045","000005559","000007377","000007539","000008051","000010058","000012588","000012849","000004003","000005381","000009891","000013364","000003260","000004214","000006384","000007275","000008012","000010091","000013377","000003040","000003257","000009486","000002569","000004134","000005061","000005322","000007753","000007816","000008284","000009571","000012315","000013594","000002371","000005008","000007574","000009590","000010101","000010156","000012370","000013261","000013379","000002473","000003166","000003265","000003526","000003562","000004156","000009007","000009395","000009917","000012832","000013066","000013129","000013624","000007837","000008313","000009600","000009691","000010004","000003113","000003267","000004301","000004356","000004950","000006435","000007425","000007461","000008316","000009306","000009702","000009793","000010197","000013329","000001869","000002741","000004226","000008277","000012803","000013037","000003276","000003320","000004013","000005553","000007236","000007533","000013275","000002876","000006124","000009806","000009897","000012677","000002445","000008160","000009367","000009826","000012958","000002546","000009468","000013175","000013337","000013571","000000822","000002857","000003072","000003586","000007645","000008022","000009878","000009977","000012298","000013585","000003611","000004106","000004142","000009903","000013313","000004168","000004465","000007237","000012448","000002718","000003546","000003799","000003898","000004077","000004121","000006219","000007894","000012203","000013743","000003334","000004973","000009879","000012280","000012307","000012497","000002310","000003003","000004084","000004345","000005533","000009331","000009449","000000510","000002347","000003120","000003337","000003571","000005416","000006082","000007586","000007883","000008576","000004240","000005997","000006338","000007625","000009498","000010144","000012025","000013051","000013268","000013367","000002747","000002882","000003971","000004510","000006031","000007175","000009452","000013079","000013321","000013439","000002721","000002776","000004143","000004242","000007663","000008040","000008617","000009481","000009706","000009904","000012324","000003183","000003309","000003958","000004038","000004236","000006054","000007503","000007558","000008331","000013498","000013506","000002723","000003768","000004406","000004893","000007764","000008042","000009906","000013154","000002377","000003169","000003529","000003664","000003862","000006120","000006139","000006175","000007327","000009343","000009901","000012475","000013014","000002518","000003805","000004949","000005326","000007180","000007603","000007919","000012715","000002719","000003583","000003781","000003907","000005329","000006201","000009479","000009776","000009839","000012457","000003980","000005410","000007247","000007508","000012304","000012917","000001550","000002441","000002955","000003332","000003387","000004935","000008274","000008571"};
		String[] b={"000007508","000005987","000006120","000009486","000003344","000004142","000003980","000005329","000006175","000005416","000002518","000012370","000012768","000013037","000013066","000012851","000012849","000007177","000002718","000009776","000012315"};
		
		List<String> list = new ArrayList<String>();
		
		int num=0;
		for(String elem1:a){
			boolean find=false;
			for(String elem2:b){
				if(elem1.equals(elem2)){
					find=true;
					num++;
				}
			}
			if(!find){
				list.add(elem1);
			}
		}
		System.out.println(num);
		System.out.println(a.length);
		System.out.println(b.length);
		System.out.println(list.size());
		for(String elem:list){
			System.out.print(elem+",");
		}
		
		
		
		
	}
	
	
	
}
